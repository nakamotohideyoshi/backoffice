<div class="container">
  <div class="row">
    <h1 class="page-title">
      {{"products_title" | translate}} -
      <span class="fw-semi-bold">
        {{"create_price_title" | translate}}
      </span>
    </h1>
    <div class="col-lg-12">
      <div class="row">
        <form [formGroup]="pricesForm">
          <fieldset>
            <div class="form-group">
              <label class="form-label">{{"color_title" | translate}}</label>
              <ng-select [options]="colorArray"
                         theme="default"
                         formControlName="color">
              </ng-select>
            </div>
            <div class="form-group">
              <label class="form-label">{{"size_title" | translate}}</label>
              <ng-select [options]="sizeArray"
                         theme="default"
                         formControlName="size">
              </ng-select>
            </div>
            <div class="form-group">
              <label class="form-label">{{"clothing_size_title" | translate}}</label>
              <ng-select [options]="clothingSizeArray"
                         theme="default"
                         formControlName="clothing_size">
              </ng-select>
            </div>
            <div class="form-group">
              <label class="form-label">{{"model_title" | translate}}</label>
              <ng-select [options]="modelArray"
                         theme="default"
                         formControlName="model">
              </ng-select>
            </div>
            <div class="form-group">
              <label class="form-label">{{"flavour_title" | translate}}</label>
              <ng-select [options]="flavourArray"
                         theme="default"
                         formControlName="flavour">
              </ng-select>
            </div>
          </fieldset>
          <div formArrayName="prices">
            <div *ngFor="let price of pricesForm.controls.prices.controls; let i=index">
              <div class="widget price-widget">
                <header>
                  <h6>{{"price_title" | translate}} {{i+1}}</h6>
                  <div class="widget-controls">
                    <span *ngIf="pricesForm.controls.prices.controls.length > 1"
                          (click)="removePrice(i)">
                      <i class="fa fa-remove remove-button"></i>
                    </span>
                  </div>
                </header>
                <div [formGroupName]="i" class="row">
                  <div class="col-lg-4">
                    <label>{{"quantity_title" | translate}}
                      <input type="text" formControlName="quantity" class="form-control">
                    </label>
                    <div *ngIf="price.controls.quantity.touched">
                      <div *ngIf="price.controls.quantity.hasError('required')" class="help-block text-danger">
                        {{"form_error_required" | translate}}
                      </div>
                      <div *ngIf="price.controls.quantity.hasError('pattern')" class="help-block text-danger">
                        {{"form_error_type_number" | translate}}
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <label>{{"price_title" | translate}}
                      <input type="text" formControlName="price" class="form-control">
                    </label>
                    <div *ngIf="price.controls.price.touched">
                      <div *ngIf="price.controls.price.hasError('required')" class="help-block text-danger">
                        {{"form_error_required" | translate}}
                      </div>
                      <div *ngIf="price.controls.price.hasError('pattern')" class="help-block text-danger">
                        {{"form_error_type_number" | translate}}
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <label>{{"campaign_price" | translate}}
                      <input type="text" formControlName="campaign_price" class="form-control">
                    </label>
                    <div *ngIf="price.controls.campaign_price.touched">
                      <div *ngIf="price.controls.campaign_price.hasError('required')" class="help-block text-danger">
                        {{"form_error_required" | translate}}
                      </div>
                      <div *ngIf="price.controls.campaign_price.hasError('pattern')" class="help-block text-danger">
                        {{"form_error_type_number" | translate}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <span (click)="addPrice()" class="add-more-rows">
              Add more rows
            <i class="fa fa-plus"></i>
            </span>
          </div>
          <button type="button"
                  [disabled]="!pricesForm.valid"
                  (click)="createPrice()"
                  class="btn btn-success btn-price">
            {{"create" | translate}}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

